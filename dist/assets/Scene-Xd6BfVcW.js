import{u as m,r,V as l,d as f,j as e,E as p,B as w,C as x,e as u,f as g,g as j,D as L,h as M}from"./three-TZlvwelR.js";import F from"./Particles-z5Lh8XKJ.js";import b from"./HandModel-BUwkpGQG.js";function k(){const{camera:t}=m(),s=r.useRef(new l(0,0,5)),i=r.useRef(new l(0,0,5)),c=r.useRef(0);return r.useEffect(()=>{t.position.set(0,0,5),t.lookAt(0,0,0);let n=!1;const a=()=>{n||(requestAnimationFrame(()=>{const o=document.documentElement.scrollHeight-window.innerHeight;c.current=o>0?window.scrollY/o:0,n=!1}),n=!0)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[t]),f((n,a)=>{const o=c.current;s.current.y=Math.sin(o*Math.PI*2)*.5,s.current.x=Math.cos(o*Math.PI*2)*.3,s.current.z=5+o*2,i.current.lerp(s.current,a*2),t.position.copy(i.current);const h=n.pointer.x*.5*.5,d=n.pointer.y*.5*.5;t.lookAt(h,d,0)}),null}function y(){const t=r.useRef(null),s=r.useRef(null);return f(i=>{t.current&&(t.current.position.x=Math.sin(i.clock.elapsedTime*.5)*3,t.current.position.y=Math.cos(i.clock.elapsedTime*.3)*3,t.current.position.z=2+Math.sin(i.clock.elapsedTime*.2)*1),s.current&&(s.current.intensity=1+Math.sin(i.clock.elapsedTime)*.3)}),e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.3,color:"#FFA000"}),e.jsx("directionalLight",{position:[5,5,5],intensity:.8,color:"#FFD689",castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),e.jsx("pointLight",{ref:t,position:[0,0,3],intensity:1.2,color:"#B8860B",distance:10,decay:2}),e.jsx("spotLight",{ref:s,position:[-5,5,5],angle:.3,penumbra:.5,intensity:.6,color:"#FFA000",castShadow:!0}),e.jsx("pointLight",{position:[0,-3,2],intensity:.5,color:"#800020",distance:8})]})}function E(){return e.jsxs(p,{children:[e.jsx(w,{intensity:.5,luminanceThreshold:.9,luminanceSmoothing:.9,height:300}),e.jsx(x,{offset:new g(.001,.001),radialModulation:!1,modulationOffset:.15,blendFunction:u.NORMAL}),e.jsx(j,{eskil:!1,offset:.1,darkness:.5,blendFunction:u.NORMAL}),e.jsx(L,{focusDistance:.02,focalLength:.02,bokehScale:2,height:480})]})}function A({children:t,enableEffects:s=!0,enableParticles:i=!0,enableHand:c=!1}){const[n,a]=r.useState(!1);return r.useEffect(()=>{const o=()=>{a(window.innerWidth<768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e.jsx(M,{gl:{antialias:!n,alpha:!0,powerPreference:n?"default":"high-performance",stencil:!1,depth:!0},dpr:n?[.5,1]:[1,2],performance:{min:n?.3:.5},className:"absolute inset-0",children:e.jsxs(r.Suspense,{fallback:null,children:[e.jsx(k,{}),e.jsx(y,{}),s&&!n&&e.jsx(E,{}),i&&e.jsx(F,{}),c&&e.jsx(b,{}),t]})})}export{A as default};
